/* Camera.css — Fluxo de publicação */

.camera-flow { min-height: 100dvh; background: var(--color-bg); position: relative; overflow: hidden; }

/* === Preview === */
.preview-screen { height: 100dvh; display: flex; flex-direction: column; background: var(--color-bg); animation: fadeIn .3s; }
.preview-container { flex: 1; display: flex; align-items: center; justify-content: center; background: #000; overflow: hidden; touch-action: pan-y pinch-zoom; }
.preview-image { width: 100%; height: 100%; object-fit: contain; animation: zoomIn .35s var(--ease-out); pointer-events: none; user-select: none; }
.preview-loading { display: flex; align-items: center; justify-content: center; }

@keyframes zoomIn { from { opacity: 0; transform: scale(1.03); } to { opacity: 1; transform: scale(1); } }

/* Filtros */
.filter-controls { background: var(--color-bg); padding: 20px 20px 8px; display: flex; flex-direction: column; align-items: center; gap: 16px; }
.filter-name { font-family: var(--font-display); font-size: .9rem; font-weight: 400; letter-spacing: .15em; text-transform: lowercase; color: var(--color-text-40); opacity: 0; transition: opacity .25s, transform .25s; min-height: 24px; }
.filter-name.visible { opacity: 1; }
.filter-indicators { display: flex; align-items: center; justify-content: center; gap: 12px; min-height: 48px; padding: 12px 40px; touch-action: none; user-select: none; }
.filter-bar { width: 3px; height: 14px; background: var(--color-text-25); border: none; padding: 0; border-radius: 2px; cursor: pointer; transition: height .2s cubic-bezier(.34,1.56,.64,1), background .15s; -webkit-tap-highlight-color: transparent; }
.filter-bar:hover { background: var(--color-text-40); }
.filter-bar.active { background: var(--color-text-80); height: 22px; }

/* Ações preview */
.preview-actions { display: flex; gap: 12px; padding: 16px 20px; padding-bottom: calc(24px + env(safe-area-inset-bottom)); background: var(--color-bg); }
.preview-btn { flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px; padding: 16px 24px; border-radius: 2px; font-family: var(--font-display); font-size: .9rem; font-weight: 400; letter-spacing: .1em; text-transform: lowercase; cursor: pointer; transition: all .2s; -webkit-tap-highlight-color: transparent; border: none; }
.preview-btn.primary { background: var(--color-text-80); color: var(--color-bg); }
.preview-btn.primary:active { transform: scale(.97); opacity: .9; }
.preview-btn.primary:disabled { opacity: .5; cursor: not-allowed; }
.preview-btn.secondary { background: transparent; color: var(--color-text-40); border: 1px solid var(--color-text-15); }
.preview-btn.secondary:hover { border-color: var(--color-text-25); color: var(--color-text-60); }
.preview-btn.secondary:active { transform: scale(.97); background: var(--color-text-06); }

/* === Caption === */
.caption-screen { min-height: 100dvh; display: flex; flex-direction: column; background: var(--color-bg); animation: slideIn .3s var(--ease-out); }
@keyframes slideIn { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }

.caption-header { display: flex; align-items: center; justify-content: space-between; padding: 16px 20px; padding-top: calc(16px + env(safe-area-inset-top)); border-bottom: 1px solid var(--color-text-06); }
.caption-back { width: 44px; height: 44px; display: flex; align-items: center; justify-content: center; background: none; border: none; color: var(--color-text-60); cursor: pointer; border-radius: 50%; transition: all .2s; -webkit-tap-highlight-color: transparent; }
.caption-back:active { background: var(--color-text-10); color: var(--color-text-80); }
.caption-title { font-family: var(--font-display); font-size: 1rem; font-weight: 400; letter-spacing: .1em; color: var(--color-text); text-transform: lowercase; }

.caption-content { flex: 1; padding: 32px 24px; display: flex; flex-direction: column; align-items: center; }
.caption-preview { width: 120px; height: 150px; border-radius: 4px; overflow: hidden; background: var(--color-text-06); margin-bottom: 40px; box-shadow: 0 8px 32px rgba(0,0,0,.4); }
.caption-preview img { width: 100%; height: 100%; object-fit: cover; }

.caption-input-wrapper { width: 100%; max-width: 360px; position: relative; }
.caption-input { width: 100%; padding: 16px 0; background: transparent; border: none; border-bottom: 1px solid var(--color-text-10); font-family: var(--font-display); font-size: 1.1rem; font-weight: 300; letter-spacing: .03em; color: var(--color-text); outline: none; transition: border-color .2s; text-align: center; }
.caption-input:focus { border-color: var(--color-text-25); }
.caption-input::placeholder { color: var(--color-text-25); }
.caption-count { position: absolute; right: 0; bottom: -28px; font-family: var(--font-display); font-size: .75rem; letter-spacing: .05em; color: var(--color-text-25); }

.caption-actions { padding: 24px; padding-bottom: calc(32px + env(safe-area-inset-bottom)); }
.caption-post-btn { width: 100%; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 18px 32px; background: var(--color-text-80); color: var(--color-bg); border: none; border-radius: 2px; font-family: var(--font-display); font-size: 1rem; font-weight: 400; letter-spacing: .15em; text-transform: lowercase; cursor: pointer; transition: all .2s; -webkit-tap-highlight-color: transparent; }
.caption-post-btn:active { transform: scale(.98); opacity: .9; }
.caption-post-btn:disabled { opacity: .6; cursor: not-allowed; }

/* === Success === */
.success-screen { height: 100dvh; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 24px; background: var(--color-bg); animation: fadeIn .4s; }
.success-content { display: flex; flex-direction: column; align-items: center; }
.success-animation { width: 80px; height: 80px; margin-bottom: 32px; color: rgba(120,180,120,.9); }
.success-animation svg { width: 100%; height: 100%; }
.success-circle { stroke-dasharray: 166; stroke-dashoffset: 166; animation: draw .6s var(--ease-out) forwards; }
.success-check { stroke-dasharray: 48; stroke-dashoffset: 48; animation: draw .3s var(--ease-out) .4s forwards; }
@keyframes draw { to { stroke-dashoffset: 0; } }
.success-title { font-family: var(--font-display); font-size: 1.5rem; font-weight: 300; letter-spacing: .1em; color: var(--color-text); margin-bottom: 8px; text-transform: lowercase; }
.success-subtitle { font-family: var(--font-display); font-size: .9rem; font-weight: 300; letter-spacing: .05em; color: var(--color-text-40); }

/* Utils */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
.spinner-sm { width: 18px; height: 18px; border-width: 2px; }
